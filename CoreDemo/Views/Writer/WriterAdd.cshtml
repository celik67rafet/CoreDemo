
@{
    ViewData["Title"] = "WriterAdd";
    Layout = "~/Views/Shared/WriterLayout.cshtml";
}
@model CoreDemo.Models.AddProfileImage
<form class="form-group" method="post" enctype="multipart/form-data">

    <div class="col-12 grid-margin stretch-card">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">Yazar Profili</h4>
                <div class="forms-sample">
                    @Html.HiddenFor(x => x.WriterID)
                    <div class="form-group">
                        <label for="exampleInputName">Yazar Adı:</label>
                        @Html.TextBoxFor(x => x.WriterName, new { @class = "form-control" })
                        <span class="text-danger">@Html.ValidationMessageFor(x => x.WriterName)</span>
                    </div>
                    <div class="form-group">
                        <label for="exampleInputEmail3">Email:</label>
                        @Html.TextBoxFor(x => x.WriterMail, new { @class = "form-control" })
                        <span class="text-danger">@Html.ValidationMessageFor(x => x.WriterMail)</span>
                    </div>
                    <div class="form-group">
                        <label for="exampleInputPassword4">Şifre:</label>
                        <div class="input-group">
                            @Html.PasswordFor(x => x.WriterPassword, new { @class = "form-control", type = "password", id = "passwordInput" })
                            <div class="input-group-append">
                                <span class="input-group-text" onclick="togglePasswordVisibility()" style="cursor: pointer; background-color: #f8f9fa; border-left: none;">
                                    <i class="mdi mdi-eye" id="toggleIcon"></i>
                                </span>
                            </div>
                        </div>
                        <span class="text-danger">@Html.ValidationMessageFor(x => x.WriterPassword)</span>
                    </div>
                    @*  <div class="form-group">
                    <label for="exampleSelectGender">Gender</label>
                    <select class="form-control" id="exampleSelectGender">
                    <option>Male</option>
                    <option>Female</option>
                    </select>
                    </div> *@
                    <div class="form-group">
                        <label>Yazar Görseli:</label>
                        <!-- Gizli dosya input -->
                        <input type="file" name="WriterImage" id="fileInput" style="display: none;" />
                        <div class="input-group col-xs-12">
                            <!-- Görüntüleme alanı ve buton -->
                            <input type="text" class="form-control file-upload-info" id="fileName" disabled placeholder="Resim Seçmediniz" />
                            <span class="input-group-append">
                                <button class="file-upload-browse btn btn-gradient-primary" type="button" id="fileButton">Resim Seç</button>
                            </span>
                        </div>
                        <span class="text-danger">@Html.ValidationMessageFor(x => x.WriterImage)</span>
                    </div>

                    @* <div class="form-group">
                    <label for="exampleInputCity1">City</label>
                    <input type="text" class="form-control" id="exampleInputCity1" placeholder="Location">
                    </div> *@
                    <div class="form-group">
                        <label for="exampleTextarea1">Yazar Hakkında:</label>
                        @Html.TextAreaFor(x => x.WriterAbout, 3, 10, new { @class = "form-control" })
                        <span class="text-danger">@Html.ValidationMessageFor(x => x.WriterAbout)</span>
                    </div>
                    <button type="submit" class="btn btn-gradient-primary mr-2">Kaydet</button>
                    <a href="/Dashboard/" class="btn btn-light">İptal Et</a>
                </div>
            </div>
        </div>
    </div>

</form>

<script>
    document.getElementById('fileButton').addEventListener('click', function () {
        document.getElementById('fileInput').click(); // Gizli dosya inputu tetikle
    });

    document.getElementById('fileInput').addEventListener('change', function (event) {
        var fileName = event.target.files[0] ? event.target.files[0].name : 'Resim Seçmediniz';
        document.getElementById('fileName').value = fileName; // Seçilen dosyanın adını göster
    });

    function togglePasswordVisibility() {
        var passwordInput = document.getElementById('passwordInput');
        var toggleIcon = document.getElementById('toggleIcon');

        if (passwordInput.type === 'password') {
            passwordInput.type = 'text';
            toggleIcon.classList.remove('mdi-eye');
            toggleIcon.classList.add('mdi-eye-off');
        } else {
            passwordInput.type = 'password';
            toggleIcon.classList.remove('mdi-eye-off');
            toggleIcon.classList.add('mdi-eye');
        }
    }
</script>
